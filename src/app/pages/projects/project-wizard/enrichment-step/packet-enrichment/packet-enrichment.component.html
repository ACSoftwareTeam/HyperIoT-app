<form class="enrichment-form" [formGroup]="enrichmentForm" autocomplete="on">

  <div class="row">
    <div class="col-md-4 container-form-field">
      <hyt-input-text [form]="enrichmentForm" formControlName="rule-name" name="rule-name" [isRequired]="true"
        placeholder="Name" [injectedErrorMsg]="getError('rule-name')">
      </hyt-input-text>
    </div> <!-- Field Name -->
    <div class="col-md-4 container-form-field">
      <hyt-select [form]="enrichmentForm" [options]="enrichmentRules" (changeFn)="enrichmentTypeChanged($event)"
        formControlName="enrichmentRule" name="enrichmentRule" [isRequired]="true" label="Rule Type">
      </hyt-select>
    </div> <!-- Field RuleType -->
    <div class="col-md-4 container-form-field">
      <hyt-text-area [form]="enrichmentForm" formControlName="rule-description" name="rule-description"
        placeholder="Description">
      </hyt-text-area>
    </div> <!-- Field RuleDescription -->
  </div>

  <div class="row">
    <div class="col-md-12 container-form-field">
      <hyt-rule-definition *ngIf="currentPacket" #ruleDef [hPacket]="currentPacket">
      </hyt-rule-definition>
    </div> <!-- Field RuleDefinition -->
  </div>

  <div *ngIf="enrichmentType=='AddTagRuleAction'" class="row">
    <div class="col-md-12 center">
      <hyt-asset-tag [packet]="currentPacket" (tagIds)="updateAssetTag($event)">
      </hyt-asset-tag>
    </div>
  </div>

  <div *ngIf="enrichmentType=='AddCategoryRuleAction'" class="row">
    <hyt-asset-category [packet]="currentPacket" (categoryIds)="updateAssetCategory($event)">
    </hyt-asset-category>
  </div>

  <div class="container-form-field errorMessage">
    <ng-container *ngIf="getError('general')">
      {{getError('general')}}
    </ng-container>
  </div> <!-- Error Box -->

  <hyt-button id="rule-form-submit-button" [isDisabled]="invalid() || pageStatus == PageStatus.Loading"
    (clickFn)="createRule()" type="submit">
    Add Rule
  </hyt-button>

</form>
