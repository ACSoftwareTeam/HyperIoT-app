<div class="dialog d-flex flex-column align-self-center">

    <header i18n="@@widgetSettingsDialog-header">HYT_widget_settings_title</header>

    <form class="content flex-grow-1" #settingsForm="ngForm">

        <div class="common-settings">
            <div class="d-flex flex-row">
                <div class="padding-6 d-flex flex-column align-items-stretch">
                    <label for="name"
                        [ngClass]="{'error-color': name.invalid}"
                        i18n="@@widgetSettingsDialog-lbl-name">
                        HYT_widget_settings_name
                    </label>
                    <input name="name" id="name" type="text"
                        [(ngModel)]="widgetName" #name="ngModel"
                        required
                        pattern="[A-Za-z0-9 ]*">
                </div>
                <div class="padding-6 d-flex flex-column align-items-stretch">
                    <label i18n="@@widgetSettingsDialog-lbl-type">HYT_widget_settings_type</label>
                    {{ widget.type }}
                </div>
                <div class="padding-6 d-flex flex-column align-items-stretch">
                    <label>ID</label>
                    {{ widget.id }}
                </div>
            </div>
        </div>

        <div class="custom-settings" [ngSwitch]="widget.type">
            <div *ngSwitchCase="'sensor-value'">
                <hyt-sensor-value-settings [widget]="widget" [modalApply]="modalApply" [settingsForm]="settingsForm">
                </hyt-sensor-value-settings>
            </div>
            <div *ngSwitchCase="'gauge-value'">
                <hyt-sensor-value-settings [widget]="widget" [modalApply]="modalApply" [settingsForm]="settingsForm">
                </hyt-sensor-value-settings>
            </div>
            <div *ngSwitchCase="'stats-chart'">
                <hyt-stats-chart-settings [widget]="widget" [modalApply]="modalApply" [settingsForm]="settingsForm">
                </hyt-stats-chart-settings>
            </div>
            <div *ngSwitchCase="'time-chart'">
                <hyt-time-chart-settings [widget]="widget" [modalApply]="modalApply" [settingsForm]="settingsForm">
                </hyt-time-chart-settings>
            </div>
            <div *ngSwitchCase="'text-label'">
                <hyt-text-label-settings [widget]="widget" [modalApply]="modalApply" [settingsForm]="settingsForm">
                </hyt-text-label-settings>
            </div>
            <div *ngSwitchDefault>
                <em>TODO: ....</em>
            </div>
        </div>

    </form>

    <footer class="d-flex flex-row align-items-center justify-content-end">
        <hyt-button class="button-confirm" (clickFn)="confirm($event)" [isDisabled]="settingsForm.invalid">
            <mat-icon>check</mat-icon>
            <span i18n="@@widgetSettingsDialog-btn-apply">HYT_widget_settings_apply</span>
        </hyt-button>
        <hyt-button class="button-close" (clickFn)="close($event)">
            <mat-icon>close</mat-icon>
            <span i18n="@@widgetSettingsDialog-btn-cancel">HYT_widget_settings_cancel</span>
        </hyt-button>
    </footer>

</div>
