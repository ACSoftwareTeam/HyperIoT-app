<hyperiot-base-widget-template>

  <header-widget>
    <hyperiot-common-toolbar
      widgetName="{{widget.name}}"
      (action)="onToolbarAction($event)"
      [toolbarIsVisible]="isToolbarVisible"
      [config]="{
              showClose: true,
              showSettings: false,
              showPlay: false,
              showRefresh: false,
              showTable: false,
              hideFullScreen: true
        }">
    </hyperiot-common-toolbar>
  </header-widget>

  <content-widget>

      <h2>*** Sezione filtri ***</h2>

      <div id="alarm-list" *ngIf="alarmsList.size; else noAlarm">
        <div 
          *ngFor="let alarm of alarmListArray" 
          class="alarm-container"
          [style]="containerStyle(alarm)"
        >
          <h4 [innerHTML]="alarm.isAlarm ? alarm.event.alarmName : alarm.event.ruleName"></h4>
          <span [innerHTML]="formatDate(alarm.event.fireTimestamp)"></span>
        </div>
      </div>

      <ng-template #noAlarm>
        <div id="no-alarms">
          <svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" width="150" height="133" viewBox="0 0 790 701.99219" xmlns:xlink="http://www.w3.org/1999/xlink"><path _ngcontent-nbf-c436="" d="M883.92335,679.03677c-13.32974,39.04189-30.47207,77.99971-52.43309,115.07876-.48744.835-.98036,1.65342-1.47751,2.48541l-54.36844-17.2001c.31277-.787.65529-1.66776,1.02323-2.62911,21.92914-56.71074,154.23254-402.23642,148.294-470.36194C925.60081,311.98621,946.29807,496.53049,883.92335,679.03677Z" transform="translate(-205 -99.00391)" fill="#e6e6e6"></path><path _ngcontent-nbf-c436="" d="M841.97922,797.43384c-.73886.75543-1.497,1.50475-2.26061,2.23766l-40.786-12.90312c.55137-.66713,1.19352-1.45315,1.93189-2.34165,12.07938-14.75186,47.99146-58.91856,83.05881-105.39,37.68531-49.9396,74.40225-102.533,79.54812-124.14378C962.43788,559.80726,930.25528,709.40339,841.97922,797.43384Z" transform="translate(-205 -99.00391)" fill="#e6e6e6"></path><path _ngcontent-nbf-c436="" d="M862.36664,222.11816c-.01538,0-.0296.0044-.045.00489v-87.4292a35.69,35.69,0,0,0-35.69-35.68994h-273.72a35.69,35.69,0,0,0-35.69,35.68994v44.8208a2.89173,2.89173,0,0,0-2.83008,2.88867v22.2002a2.891,2.891,0,0,0,2.83008,2.88818v23.25684h-.14508a2.89485,2.89485,0,0,0-2.895,2.895v42.92969a2.89486,2.89486,0,0,0,2.895,2.895h.14508v17.05029h-.04511a2.89485,2.89485,0,0,0-2.89495,2.895v43.34961a2.89485,2.89485,0,0,0,2.89495,2.895h.04511V764.68408a35.69,35.69,0,0,0,35.69,35.68994h273.72a35.69,35.69,0,0,0,35.69-35.68994V307.13379c.01538,0,.0296.00439.045.00439a5.15473,5.15473,0,0,0,5.155-5.15478v-74.71A5.15515,5.15515,0,0,0,862.36664,222.11816Z" transform="translate(-205 -99.00391)" fill="#3f3d56"></path><path _ngcontent-nbf-c436="" d="M841.01166,144.684v610a27.41,27.41,0,0,1-27.41,27.4h-247.66a27.41,27.41,0,0,1-27.41-27.4v-610a27.41,27.41,0,0,1,27.41-27.41h37.06v4.81a22.58,22.58,0,0,0,22.57,22.57h126a22.57,22.57,0,0,0,22.52-22.57v-4.76h39.51A27.41,27.41,0,0,1,841.01166,144.684Z" transform="translate(-205 -99.00391)" fill="#fff"></path><path _ngcontent-nbf-c436="" d="M594,197.99609H567a2.5,2.5,0,0,1,0-5h27a2.5,2.5,0,0,1,0,5Z" transform="translate(-205 -99.00391)" fill="#3f3d56"></path><path _ngcontent-nbf-c436="" d="M594,204.99609H567a2.5,2.5,0,0,1,0-5h27a2.5,2.5,0,0,1,0,5Z" transform="translate(-205 -99.00391)" fill="#3f3d56"></path><path _ngcontent-nbf-c436="" d="M594,211.99609H567a2.5,2.5,0,0,1,0-5h27a2.5,2.5,0,0,1,0,5Z" transform="translate(-205 -99.00391)" fill="#3f3d56"></path><path _ngcontent-nbf-c436="" d="M803.29156,205.04605h-.91l-.35-.29a7.61019,7.61019,0,0,0,1.78-4.89,7.44,7.44,0,1,0-7.4,7.48,7.73,7.73,0,0,0,4.88-1.78l.34.29v.92l5.74,5.75,1.72-1.72Zm-6.88,0a5.18,5.18,0,1,1,5.15992-5.2l.00006.02a5.15,5.15,0,0,1-5.11994,5.17992c-.0133.00008-.02667.00011-.04.00008Z" transform="translate(-205 -99.00391)" fill="#3f3d56"></path><path _ngcontent-nbf-c436="" d="M649.00537,289.99609H600.5a11,11,0,0,1,0-22h48.50537a11,11,0,0,1,0,22Z" transform="translate(-205 -99.00391)" fill="#1e58a5"></path><path _ngcontent-nbf-c436="" d="M797.5,313.99609h-202a6,6,0,0,1,0-12h202a6,6,0,0,1,0,12Z" transform="translate(-205 -99.00391)" fill="#e6e6e6"></path><path _ngcontent-nbf-c436="" d="M669.7002,337.99609H595.5a6,6,0,0,1,0-12h74.2002a6,6,0,0,1,0,12Z" transform="translate(-205 -99.00391)" fill="#e6e6e6"></path><path _ngcontent-nbf-c436="" d="M649.00537,555.99609H600.5a11,11,0,0,1,0-22h48.50537a11,11,0,0,1,0,22Z" transform="translate(-205 -99.00391)" fill="#1e58a5"></path><path _ngcontent-nbf-c436="" d="M797.5,579.99609h-202a6,6,0,0,1,0-12h202a6,6,0,0,1,0,12Z" transform="translate(-205 -99.00391)" fill="#e6e6e6"></path><path _ngcontent-nbf-c436="" d="M669.7002,603.99609H595.5a6,6,0,0,1,0-12h74.2002a6,6,0,0,1,0,12Z" transform="translate(-205 -99.00391)" fill="#e6e6e6"></path><path _ngcontent-nbf-c436="" d="M649.00537,678.99609H600.5a11,11,0,0,1,0-22h48.50537a11,11,0,0,1,0,22Z" transform="translate(-205 -99.00391)" fill="#1e58a5"></path><path _ngcontent-nbf-c436="" d="M797.5,702.99609h-202a6,6,0,0,1,0-12h202a6,6,0,0,1,0,12Z" transform="translate(-205 -99.00391)" fill="#e6e6e6"></path><path _ngcontent-nbf-c436="" d="M669.7002,726.99609H595.5a6,6,0,0,1,0-12h74.2002a6,6,0,0,1,0,12Z" transform="translate(-205 -99.00391)" fill="#e6e6e6"></path><path _ngcontent-nbf-c436="" d="M826,493.49609H440a8.50981,8.50981,0,0,1-8.5-8.5v-105a8.50951,8.50951,0,0,1,8.5-8.5H826a8.50982,8.50982,0,0,1,8.5,8.5v105A8.51013,8.51013,0,0,1,826,493.49609Z" transform="translate(-205 -99.00391)" fill="#1e58a5"></path><path _ngcontent-nbf-c436="" d="M577.277,419.49609h-67.0539c-4.25851,0-7.723-4.93457-7.723-11s3.46454-11,7.72305-11H577.277c4.25851,0,7.723,4.93457,7.723,11S581.53546,419.49609,577.277,419.49609Z" transform="translate(-205 -99.00391)" fill="#fff"></path><path _ngcontent-nbf-c436="" d="M757.5,443.49609h-249a6,6,0,0,1,0-12h249a6,6,0,0,1,0,12Z" transform="translate(-205 -99.00391)" fill="#e6e6e6"></path><path _ngcontent-nbf-c436="" d="M629.7002,467.49609H508.5a6,6,0,0,1,0-12H629.7002a6,6,0,0,1,0,12Z" transform="translate(-205 -99.00391)" fill="#e6e6e6"></path></svg>
          <h3>No alarms fired</h3>  
        </div>
      </ng-template>


  </content-widget>

</hyperiot-base-widget-template>