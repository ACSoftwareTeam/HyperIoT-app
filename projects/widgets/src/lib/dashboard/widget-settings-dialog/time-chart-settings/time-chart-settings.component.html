<div id="time-chart-settings">
    <hyperiot-packet-select
        [widget]="widget"
        [hDeviceId]="hDeviceId"
        [areaId]="areaId"
        [multiPacketSelect]="true"
        [selectedFields]="selectedFields"
        (selectedFieldsChange)="onSelectedFieldsChange($event)"
        (selectedPacketChange)="onSelectedPacketChange($event)"
    ></hyperiot-packet-select>

</div>

<!--
<div *ngFor="let field of selectedFields">{{field.name}}</div>
-->
<!-- Plotly chart specific options -->

<div class="padding-6 d-flex flex-column justify-content-stretch">
    <!-- not yet implemented -->
</div>
<div *ngIf="checkbox && (selectedFields.length > 0 || widget.config.packetId)">
    <mat-checkbox color="primary" [(ngModel)]="thresholdActive" [ngModelOptions]="{standalone: true}"
        (ngModelChange)="isChecked()">threshold</mat-checkbox>
    <div *ngIf="thresholdActive">
        <mat-label>Test</mat-label>
        <mat-select multiple [ngModelOptions]="{ standalone: true }" [(ngModel)]="selectedThresholdsIds" disableRipple>
            <mat-select-trigger>
                {{ getSelectedNames() }}
            </mat-select-trigger>
            <mat-optgroup *ngFor="let group of thresholds | keyvalue" [label]="group.key">
                <mat-option *ngFor="let rule of group.value" [value]="rule.id">
                    <div>{{ rule.name }}</div>
                    <div style="font-size: 12px; color: gray;">{{ rule.rulePrettyDefinition }}</div>
                </mat-option>
            </mat-optgroup>
        </mat-select>
    </div>

</div>